(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/cart/cart"],{3961:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},c=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return c})},"3cd7":function(t,e,i){"use strict";i.r(e);var a=i("3961"),c=i("9090");for(var n in c)"default"!==n&&function(t){i.d(e,t,function(){return c[t]})}(n);i("da96");var r=i("2877"),o=Object(r["a"])(c["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},"5bca":function(t,e,i){"use strict";(function(t){i("8b92"),i("921b");a(i("66fd"));var e=a(i("3cd7"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},9090:function(t,e,i){"use strict";i.r(e);var a=i("fe3b"),c=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=c.a},da96:function(t,e,i){"use strict";var a=i("f308"),c=i.n(a);c.a},f308:function(t,e,i){},fe3b:function(t,e,i){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=i("2f62");function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){r(t,e,i[e])})}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=function(){return i.e("components/uni-number-box").then(i.bind(null,"ae5d"))},s={components:{uniNumberBox:o},data:function(){return{total:0,allChecked:!1,empty:!1,cartList:[],hasLogin:!0}},onLoad:function(){this.loadData()},onShow:function(){this.loadData()},watch:{cartList:function(t){var e=0===t.length;this.empty!==e&&(this.empty=e)}},computed:n({},(0,c.mapState)(["hasLogin"])),methods:{loadData:function(){var e=this,i=[{id:1,image:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1553005139&di=3368549edf9eee769a9bcb3fbbed2504&imgtype=jpg&er=1&src=http%3A%2F%2Fimg002.hc360.cn%2Fy3%2FM01%2F5F%2FDB%2FwKhQh1T7iceEGRdWAAAAADQvqk8733.jpg",attr_val:"春装款 L",stock:15,title:"OVBE 长袖风衣",price:278,number:1},{id:3,image:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2319343996,1107396922&fm=26&gp=0.jpg",attr_val:"激光导航 扫拖一体",stock:3,title:"科沃斯 Ecovacs 扫地机器人",price:1348,number:5},{id:4,image:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2668268226,1765897385&fm=26&gp=0.jpg",attr_val:"XL",stock:55,title:"朵绒菲小西装",price:175.88,number:1},{id:5,image:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1552410549432&di=06dd3758053fb6d6362516f30a42d055&imgtype=0&src=http%3A%2F%2Fimgcache.mysodao.com%2Fimg3%2FM0A%2F67%2F42%2FCgAPD1vNSsHNm-TnAAEy61txQb4543_400x400x2.JPG",attr_val:"520 #粉红色",stock:15,title:"迪奥（Dior）烈艳唇膏",price:1089,number:1},{id:6,image:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1031875829,2994442603&fm=26&gp=0.jpg",attr_val:"樱花味润手霜 30ml",stock:15,title:"欧舒丹（L'OCCITANE）乳木果",price:128,number:1},{id:7,image:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1553007107&di=390915aa8a022cf0b03c03340881b0e7&imgtype=jpg&er=1&src=http%3A%2F%2Fimg13.360buyimg.com%2Fn0%2Fjfs%2Ft646%2F285%2F736444951%2F480473%2Faa701c97%2F548176feN10c9ed7b.jpg",attr_val:"特级 12个",stock:7,title:"新疆阿克苏苹果 特级",price:58.8,number:10},{id:8,image:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2319343996,1107396922&fm=26&gp=0.jpg",attr_val:"激光导航 扫拖一体",stock:15,title:"科沃斯 Ecovacs 扫地机器人",price:1348,number:1},{id:9,image:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2668268226,1765897385&fm=26&gp=0.jpg",attr_val:"XL",stock:55,title:"朵绒菲小西装",price:175.88,number:1},{id:10,image:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1552410549432&di=06dd3758053fb6d6362516f30a42d055&imgtype=0&src=http%3A%2F%2Fimgcache.mysodao.com%2Fimg3%2FM0A%2F67%2F42%2FCgAPD1vNSsHNm-TnAAEy61txQb4543_400x400x2.JPG",attr_val:"520 #粉红色",stock:15,title:"迪奥（Dior）烈艳唇膏",price:1089,number:1},{id:11,image:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1031875829,2994442603&fm=26&gp=0.jpg",attr_val:"樱花味润手霜 30ml",stock:15,title:"欧舒丹（L'OCCITANE）乳木果",price:128,number:1},{id:12,image:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1553007107&di=390915aa8a022cf0b03c03340881b0e7&imgtype=jpg&er=1&src=http%3A%2F%2Fimg13.360buyimg.com%2Fn0%2Fjfs%2Ft646%2F285%2F736444951%2F480473%2Faa701c97%2F548176feN10c9ed7b.jpg",attr_val:"特级 12个",stock:7,title:"新疆阿克苏苹果 特级",price:58.8,number:10},{id:13,image:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1552405266625&di=a703f2b2cdb0fe7f3f05f62dd91307ab&imgtype=0&src=http%3A%2F%2Fwww.78.cn%2Fzixun%2Fnews%2Fupload%2F20190214%2F1550114706486250.jpg",attr_val:"春装款/m",stock:15,title:"女装2019春秋新款",price:420,number:1}];t.getStorage({key:"cartListData",success:function(t){var e=t.data;if(e!=[]&&""!=e&&null!=e)for(var a=0;a<e.length;a++)i.push(e[a])},fail:function(t){e.cartList=[],console.log(a("cartList失败"," at pages\\shop\\cart\\cart.vue:245"))}}),console.log(a("22"," at pages\\shop\\cart\\cart.vue:248")),this.cartList=i,this.calcTotal()},onImageLoad:function(t,e){this.$set(this[t][e],"loaded","loaded")},onImageError:function(t,e){this[t][e].image="/static/errorImage.jpg"},navToLogin:function(){t.navigateTo({url:"/pages/public/login"})},check:function(t,e){if("item"===t)this.cartList[e].checked=!this.cartList[e].checked;else{var i=!this.allChecked,a=this.cartList;a.forEach(function(t){t.checked=i}),this.allChecked=i}this.calcTotal(t)},numberChange:function(t){this.cartList[t.index].number=t.number,this.calcTotal()},deleteCartItem:function(e){var i=this.cartList,a=i[e];a.id;this.cartList.splice(e,1),this.calcTotal(),t.hideLoading()},clearCart:function(){var e=this;t.showModal({content:"清空购物车？",success:function(t){t.confirm&&(e.cartList=[])}})},calcTotal:function(){var t=this.cartList;if(0!==t.length){var e=0,i=!0;t.forEach(function(t){!0===t.checked?e+=t.price*t.number:!0===i&&(i=!1)}),this.allChecked=i,this.total=Number(e.toFixed(2))}else this.empty=!0},createOrder:function(){var e=this.cartList,i=[];e.forEach(function(t){if(t.checked){var e={shop:"阿咩良品",id:t.id,name:t.title,price:t.price,img:t.image,specSelected:t.attr_val,number:t.number};i.push(e)}}),i==[]?t.showToast({title:"请选择商品哦~"}):(console.log(a(i," at pages\\shop\\cart\\cart.vue:348")),t.setStorage({key:"productGoods",data:i,success:function(){t.navigateTo({url:"../order/createOrder"})}}))}}};e.default=s}).call(this,i("6e42")["default"],i("0de9")["default"])}},[["5bca","common/runtime","common/vendor"]]]);