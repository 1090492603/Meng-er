(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/product/product"],{"1a7a":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return o})},"1a9e":function(t,e,i){"use strict";i.r(e);var s=i("1a7a"),o=i("b3d6");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("bff8");var a=i("2877"),c=Object(a["a"])(o["default"],s["a"],s["b"],!1,null,null,null);e["default"]=c.exports},b3d6:function(t,e,i){"use strict";i.r(e);var s=i("c5c3"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=o.a},bff8:function(t,e,i){"use strict";var s=i("f5a0"),o=i.n(s);o.a},c5c3:function(t,e,i){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("a34a"));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i,s,o,n,a){try{var c=t[n](a),r=c.value}catch(d){return void i(d)}c.done?e(r):Promise.resolve(r).then(s,o)}function c(t){return function(){var e=this,i=arguments;return new Promise(function(s,o){var n=t.apply(e,i);function c(t){a(n,s,o,c,r,"next",t)}function r(t){a(n,s,o,c,r,"throw",t)}c(void 0)})}}var r=function(){return i.e("components/share").then(i.bind(null,"fb86"))},d=function(){return i.e("components/uni-number-box").then(i.bind(null,"ae5d"))},u={components:{share:r,uniNumberBox:d},data:function(){return{specClass:"none",specSelected:[],shop:"啊羊良品",favorite:!0,doingThing:"no",shareList:[{type:1,icon:"../../../static/img/fenxiang1.png",text:"微信"},{type:2,icon:"../../../static/img/fenxiang2.png",text:"朋友圈"},{type:3,icon:"../../../static/img/fenxiang3.png",text:"QQ"},{type:4,icon:"../../../static/img/fenxiang4.png",text:"QQ空间"},{type:5,icon:"../../../static/img/fenxiang5.png",text:"微博"}],imgList:[{src:"//img14.360buyimg.com/n1/s350x449_jfs/t17647/352/186115440/172588/d95451ee/5a61b87fN1c32ee3e.jpg!cc_350x449.jpg"},{src:"//img14.360buyimg.com/n1/s350x449_jfs/t14311/265/1931758735/160479/ad355daa/5a61b880Nf0c544d0.jpg!cc_350x449.jpg"},{src:"//img14.360buyimg.com/n1/s350x449_jfs/t16852/325/179612630/167596/3830d019/5a61b880Nefdc1bbd.jpg!cc_350x449.jpg"}],goodsData:{id:1,name:"商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题",price:127,number:1,service:[{name:"正品保证",description:"此商品官方保证为正品"},{name:"极速退款",description:"此商品享受退货极速退款服务"},{name:"7天退换",description:"此商品享受7天无理由退换服务"}],comment:{number:102,userface:"http://img3.imgtn.bdimg.com/it/u=1150341365,1327279810&fm=26&gp=0.jpg",username:"Leo yo",content:"很不错，之前买了很多次了，很好看，能放很久，和图片色差不大，值得购买！"}},cartList:[],cartgoods:{},imgListData:[{src:"//img13.360buyimg.com/imgzone/jfs/t12460/230/2061398502/217636/806e8fce/5a61b83bNe7f04eff.jpg"},{src:"//img11.360buyimg.com/imgzone/jfs/t18508/280/170257578/7550/61c772c/5a61b83bN2a5e71ab.jpg"},{src:"//img30.360buyimg.com/imgzone/jfs/t17332/246/175751736/43041/bee76f7e/5a61b83cNae406e1a.jpg"},{src:"//img20.360buyimg.com/imgzone/jfs/t19126/293/170934521/38646/5a4a2b4a/5a61b83cN67459806.jpg"},{src:"//img14.360buyimg.com/imgzone/jfs/t17896/277/182678881/7600/a275193a/5a61b83cNc9346db6.jpg"},{src:"//img13.360buyimg.com/imgzone/jfs/t19108/298/173250423/7549/d4c88046/5a61b83dN73b1b376.jpg"},{src:"//img12.360buyimg.com/imgzone/jfs/t16147/148/1804248258/29361/5617d459/5a61b83dN96c48a03.jpg"},{src:"//img14.360buyimg.com/imgzone/jfs/t14395/268/1941709695/282560/a2f5c1e9/5a61b83fNa0f2b53d.jpg"},{src:"//img14.360buyimg.com/imgzone/jfs/t17908/275/178898712/239433/46d57aac/5a61b842N4899fb01.jpg"},{src:"//img20.360buyimg.com/imgzone/jfs/t12685/191/2563457173/244516/3b503f76/5a61b846N4552f716.jpg"},{src:"//img14.360buyimg.com/imgzone/jfs/t18940/310/170774495/285665/aa95ad8e/5a61b856N73b5d273.jpg"},{src:"//img30.360buyimg.com/imgzone/jfs/t17197/256/173127894/226340/45571396/5a61b85dN11bd74c1.jpg"},{src:"//img14.360buyimg.com/imgzone/jfs/t16348/237/1708041768/272192/9f8d9786/5a61b86bN8364d579.jpg"}],specList:[{id:1,name:"尺寸"},{id:2,name:"颜色"}],specChildList:[{id:1,pid:1,name:"XS"},{id:2,pid:1,name:"S"},{id:3,pid:1,name:"M"},{id:4,pid:1,name:"L"},{id:5,pid:1,name:"XL"},{id:6,pid:1,name:"XXL"},{id:7,pid:2,name:"白色"},{id:8,pid:2,name:"珊瑚粉"},{id:9,pid:2,name:"草木绿"}]}},onLoad:function(){var e=c(o.default.mark(function e(i){return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i.id,this.goodsData.id=i.id,this.goodsData.name=i.name,this.goodsData.price=i.price,console.log(t("id="+i.id," at pages\\shop\\product\\product.vue:381")),console.log(t("name="+i.name," at pages\\shop\\product\\product.vue:382")),console.log(t("price="+i.price," at pages\\shop\\product\\product.vue:383")),s.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#FAFAFA"});case 8:case"end":return e.stop()}},e,this)}));function i(t){return e.apply(this,arguments)}return i}(),methods:{toggleSpec:function(){var t=this;"show"===this.specClass?(this.specClass="hide",setTimeout(function(){t.specClass="none"},250)):"none"===this.specClass&&(this.specClass="show")},selectSpec:function(t,e){var i=this,s=this.specChildList;s.forEach(function(t){t.pid===e&&i.$set(t,"selected",!1)}),this.$set(s[t],"selected",!0),this.specSelected=[],s.forEach(function(t){!0===t.selected&&i.specSelected.push(t)});this.specChildList.length},share:function(){this.$refs.share.toggleMask()},toFavorite:function(){s.showToast({title:"店铺~未完待续"})},buy:function(){if(this.specList.length==this.specSelected.length)return this.createGoods(),!0;"show"!=this.specClass&&(this.doingThing="buy",this.toggleSpec())},backHome:function(){s.navigateTo({url:"../home"})},goCar:function(){s.navigateTo({url:"../cart/cart"})},createGoods:function(){for(var e="",i=0;i<this.specSelected.length;i++)console.log(t(this.specSelected[i]," at pages\\shop\\product\\product.vue:474")),e=this.specSelected[i].name+e,e=" "+e;var o=[],n={shop:this.shop,id:this.goodsData.id,name:this.goodsData.name,price:this.goodsData.price,img:this.imgList[0].src,specSelected:e,number:this.goodsData.number};o.push(n),s.setStorage({key:"productGoods",data:o,success:function(){s.navigateTo({url:"../order/createOrder?id=${goodsData.id}"})}})},sub:function(){this.goodsData.number<=1||this.goodsData.number--},add:function(){this.goodsData.number++},stopPrevent:function(){},addShop:function(){if(this.specList.length==this.specSelected.length)return this.addCarList(),!0;"show"!=this.specClass&&(this.doingThing="car",this.toggleSpec())},addCarList:function(){var e=this;s.getStorage({key:"cartListData",success:function(t){e.cartList=t.data},fail:function(i){e.cartList=[],console.log(t("cartList失败"," at pages\\shop\\product\\product.vue:535"))}});for(var i="",o=0;o<this.specSelected.length;o++)console.log(t(this.specSelected[o]," at pages\\shop\\product\\product.vue:541")),i=this.specSelected[o].name+i,i=" "+i;var n={shop:this.shop,id:this.goodsData.id,title:this.goodsData.name,price:this.goodsData.price,image:this.imgList[0].src,attr_val:i,stock:30,number:this.goodsData.number};console.log(t(n," at pages\\shop\\product\\product.vue:556"));var a=!1;if(console.log(t(this.cartList," at pages\\shop\\product\\product.vue:558")),this.cartList==[]||""==this.cartList||null==this.cartList)this.cartList=[],this.cartList.push(n),console.log(t("4444"," at pages\\shop\\product\\product.vue:563")),a=!0;else for(var c=0;c<this.cartList.length;c++){if(this.cartList[c].id==n.id)break;c==this.cartList.length-1&&(this.cartList.push(n),console.log(t("333"," at pages\\shop\\product\\product.vue:575")),a=!0)}"hide"!=this.specClass&&(this.doingThing="car",this.toggleSpec()),0==a?s.showToast({title:"本商品已经添加过购物车了~快去购物车下单吧！",position:"bottom"}):s.setStorage({key:"cartListData",data:this.cartList,success:function(){s.showToast({title:"成功添加购物车~商品在您的购物车等候您哦！",position:"bottom"})}})},Ok:function(){this.specList.length==this.specSelected.length&&("buy"==this.doingThing&&this.buy(),"car"==this.doingThing&&this.addShop(),"no"==this.doingThing&&s.showToast({title:"页面出错，请返回首页再选购商品",position:"bottom"}))}}};e.default=u}).call(this,i("0de9")["default"],i("6e42")["default"])},f5a0:function(t,e,i){},f6ed:function(t,e,i){"use strict";(function(t){i("8b92"),i("921b");s(i("66fd"));var e=s(i("1a9e"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["f6ed","common/runtime","common/vendor"]]]);